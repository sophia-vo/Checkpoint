<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Interactive Guide to Parkinson's Disease</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link
    href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&family=Open+Sans:wght@400;700&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="style.css">

  <script type="importmap">
    {
      "imports": {
        "three": "https://unpkg.com/three@0.164.1/build/three.module.js",
        "three/addons/": "https://unpkg.com/three@0.164.1/examples/jsm/"
      }
    }
  </script>
</head>

<body>
  <main id="fullpage-container">

    <section id="title-page" class="section">
      <div class="content-wrapper">
        <h1>Parkinson's Disease</h1>
      </div>
    </section>

    <section id="intro-page" class="section">
      <div class="content-wrapper narrow-content">
        <h2>Understanding Parkinson's</h2>
        <p>Parkinson's disease is a progressive neurodegenerative disorder that primarily affects dopamine-producing
          ("dopaminergic") neurons in a specific area of the brain called substantia nigra. Symptoms typically develop
          slowly over years. The progression of symptoms is often different from one person to another due to the
          diversity of the disease.</p>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore
          magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
          consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla
          pariatur.</p>
      </div>
    </section>

    <section id="hand-viz-page" class="section">
      <div class="two-column-layout">
        <div class="column text-column">
          <h2>Motor Symptoms & The Hand</h2>
          <p>Parkinson's disease is well-known for its impact on motor control. Symptoms such as tremors, rigidity
            (stiffness), bradykinesia (slowness of movement), and postural instability can significantly affect daily
            activities.</p>
          <p>The hands are often one of the first areas to show signs. Fine motor skills required for writing, buttoning
            clothes, or eating can become challenging. The interactive 3D model on the right highlights how different
            parts of the hand can be affected. Hover over the model to learn more.</p>
        </div>
        <div class="column viz-column">
          <div id="hand-container"></div>
          <div id="hand-tooltip"></div> <!-- Tooltip for hand.js -->
        </div>
      </div>
    </section>

    <section id="pulse-viz-page" class="section">
      <div class="two-column-layout">
        <div class="column viz-column pulse-column-left">
          <h2>Typing Rhythm & Medication</h2>
          <p>The consistency of motor actions, like typing, can be altered by Parkinson's. This interactive "pulse"
            demonstrates representative typing rhythms. Select a medication category to see how treatment might
            influence these patterns.</p>
          <div id="med-buttons">
            <button class="med-btn" data-med="Levadopa">Levadopa</button>
            <button class="med-btn" data-med="DA">DA</button>
            <button class="med-btn" data-med="MAOB">MAOB</button>
            <button class="med-btn" data-med="Other">Other</button>
            <button class="med-btn" data-med="No Med">No Med</button>
          </div>
          <div id="tempo-control">
            Tempo: <input type="range" id="tempo-slider" min="0.5" max="3" step="0.1" value="1">
            <span id="tempo-value">1x</span>
          </div>
          <div id="button-viz-container">
            <button id="big-button">PULSE</button>
          </div>
          <div id="pulse-info-box">
            <p>Hold Time: <span id="pulse-hold-time">-</span> ms</p>
            <p>Flight Time: <span id="pulse-flight-time">-</span> ms</p>
          </div>
        </div>
        <div class="column text-column pulse-column-right">
          <h3>Interpreting the Pulse</h3>
          <p>The "PULSE" button simulates the rhythm of typing, specifically focusing on:</p>
          <ul>
            <li><strong>Hold Time:</strong> The duration a key is pressed.</li>
            <li><strong>Flight Time:</strong> The time between releasing one key and pressing the next.</li>
          </ul>
          <p>Variability in these timings can be a subtle indicator of changes in motor control. Common Parkinson's
            medications like Levodopa, Dopamine Agonists (DA), and MAO-B inhibitors aim to manage these motor symptoms,
            and their effects can sometimes be observed in fine motor tasks like typing.</p>
        </div>
      </div>
    </section>

    <section id="quote-page" class="section">
      <div class="content-wrapper narrow-content">
        <blockquote class="large-quote">
          "I have Parkinson's disease. I am not Parkinson's disease. My identity is not based on the illness, but on who
          I am as a person. It is a part of my life, not the entirety of it."
          <footer>&mdash; Michael J. Fox (paraphrased)</footer>
        </blockquote>
      </div>
    </section>

    <section id="typing-test-page" class="section">
      <div class="content-wrapper typing-test-wrapper">
        <h2>Analyze Your Typing</h2>
        <p>This interactive test allows you to compare your typing characteristics, such as key hold times and the
          latency between keystrokes, against generalized patterns. Type a sentence in the box below to see your data
          visualized.</p>

        <div id="viz1-container-typing"> <!-- Renamed for clarity -->
          <label for="metric-select-typing">Choose a timing metric:</label>
          <select id="metric-select-typing">
            <option value="hold">Hold Time</option>
            <option value="latency">Latency</option>
          </select>
          <input id="typing-box" type="text" placeholder="Start typing here..." autofocus />
          <div style="margin-bottom: 10px; margin-top: 10px;">
            <button id="reset-button">Reset Typing</button>
          </div>
          <svg id="typing-viz" width="800" height="220"></svg>
          <div id="legend" style="margin-top: 10px;">
            <svg width="300" height="30">
              <circle cx="10" cy="10" r="5" style="fill: steelblue;"></circle>
              <text x="20" y="14" font-size="12px">Your Typing</text>
              <line x1="130" y1="10" x2="150" y2="10" style="stroke: darkred; stroke-width: 2; stroke-dasharray: 4;">
              </line>
              <text x="155" y="14" font-size="12px">Parkinsonâ€™s Sample</text>
            </svg>
          </div>
          <p id="typing-stats"></p>
        </div>

      </div>
    </section>

  </main>

  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script type="module" src="hand.js"></script>
  <script type="module" src="typing.js"></script>
</body>

</html>